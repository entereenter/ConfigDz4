# Вариант 15

Разработать ассемблер и интерпретатор для учебной виртуальной машины 
(УВМ). Система команд УВМ представлена далее.

Для ассемблера необходимо разработать читаемое представление команд 
УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к 
которой задается из командной строки. Результатом работы ассемблера является 
бинарный файл в виде последовательности байт, путь к которому задается из 
командной строки. Дополнительный ключ командной строки задает путь к файлу логу, в котором хранятся ассемблированные инструкции в духе списков 
“ключ=значение”, как в приведенных далее тестах.

Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ 
и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон 
также указывается из командной строки.

Форматом для файла-лога и файла-результата является json.

Необходимо реализовать приведенные тесты для всех команд, а также 
написать и отладить тестовую программу.

Загрузка константы

| A | B | C |
|--|--|--|
| Биты 0—3 | Биты 4—10 | Биты 11—38 |
| 10 | Адреc | Константа |

Размер команды: 5 байт. Операнд: поле C. Результат: регистр по адресу, 
которым является поле B.

Тест (A=10, B=117, C=244):

0x5A, 0xA7, 0x07, 0x00, 0x00

Чтение значения из памяти

| A        | B         | C|
|----------|-----------|-|
| Биты 0—3 | Биты 4—10 | Биты 11—17|
| 15       | Адрес     | Адрес     |

Размер команды: 3 байт. Операнд: значение в памяти по адресу, которым 
является регистр по адресу, которым является поле C. Результат: регистр по 
адресу, которым является поле B.

Тест (A=15, B=11, C=62):

0xBF, 0xF0, 0x01

Запись значения в память

|A| B| C|
|-|-|-|
|Биты 0—3| Биты 4—16| Биты 17—23|
|3| Адрес| Адрес|

Размер команды: 3 байт. Операнд: регистр по адресу, которым является поле 
C. Результат: значение в памяти по адресу, которым является поле B.

Тест (A=3, B=135, C=25):

0x73, 0x08, 0x32

Унарная операция: sgn()

| A        | B| C|
|----------|-|-|
| Биты 0—3 | Биты 4—10| Биты 11—17|
|14| Адрес| Адрес|

Размер команды: 3 байт. Операнд: значение в памяти по адресу, которым 
является регистр по адресу, которым является поле B. Результат: регистр по 
адресу, которым является поле C.

Тест (A=14, B=18, C=116):

0x2E, 0xA1, 0x03
